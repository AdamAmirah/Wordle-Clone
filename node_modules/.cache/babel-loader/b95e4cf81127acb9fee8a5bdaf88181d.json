{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\n\nconst useWordle = solution => {\n  _s();\n\n  const [turn, setTurn] = useState(0);\n  const [currentGuess, setCurrentGuess] = useState(\"\");\n  const [guesses, setGuesses] = useState([...Array(6)]);\n  const [history, setHistory] = useState([]);\n  const [isCorrect, setisCorrect] = useState(false);\n\n  const formatGuess = () => {\n    let solutionArray = [...solution];\n    let formattedGuess = [...currentGuess].map(l => {\n      return {\n        key: l,\n        color: 'grey'\n      };\n    }); // find any green letters\n\n    formattedGuess.forEach((l, i) => {\n      if (solution[i] === l.key) {\n        formattedGuess[i].color = 'green';\n        solutionArray[i] = null;\n      }\n    }); // find any yellow letters\n\n    formattedGuess.forEach((l, i) => {\n      if (solutionArray.includes(l.key) && l.color !== 'green') {\n        formattedGuess[i].color = 'yellow';\n        solutionArray[solutionArray.indexOf(l.key)] = null;\n      }\n    });\n    return formattedGuess;\n  };\n\n  const addNewGuess = formattedGuess => {\n    if (currentGuess === solution) {\n      setIsCorrect(true);\n    }\n\n    setGuesses(prevGuesses => {\n      let newGuesses = [...prevGuesses];\n      newGuesses[turn] = formattedGuess;\n      return newGuesses;\n    });\n    setHistory(prevHistory => {\n      return [...prevHistory, currentGuess];\n    });\n    setTurn(prevTurn => {\n      return prevTurn + 1;\n    });\n    setUsedKeys(prevUsedKeys => {\n      formattedGuess.forEach(l => {\n        const currentColor = prevUsedKeys[l.key];\n\n        if (l.color === 'green') {\n          prevUsedKeys[l.key] = 'green';\n          return;\n        }\n\n        if (l.color === 'yellow' && currentColor !== 'green') {\n          prevUsedKeys[l.key] = 'yellow';\n          return;\n        }\n\n        if (l.color === 'grey' && currentColor !== ('green' || 'yellow')) {\n          prevUsedKeys[l.key] = 'grey';\n          return;\n        }\n      });\n      return prevUsedKeys;\n    });\n    setCurrentGuess('');\n  };\n\n  const handleKeyUp = _ref => {\n    let {\n      key\n    } = _ref;\n\n    if (key === \"Enter\") {\n      if (turn > 5) {\n        console.log(\"you used all your chances\");\n        return;\n      }\n\n      if (history.includes(currentGuess)) {\n        console.log(\"word already tried\");\n        return;\n      }\n\n      if (currentGuess.length !== 5) {\n        console.log(\"word must be 5 chara long\");\n        return;\n      }\n\n      const formatted = formatGuess();\n      addNewGuess(formatted);\n    }\n\n    if (key === \"Backspace\") {\n      setCurrentGuess(prev => {\n        return prev.slice(0, -1);\n      });\n      return;\n    }\n\n    if (/^[A-Za-z]$/.test(key)) {\n      if (currentGuess.length < 5) {\n        setCurrentGuess(prev => {\n          return prev + key;\n        });\n      }\n    }\n  };\n\n  return {\n    turn,\n    currentGuess,\n    guesses,\n    isCorrect,\n    handleKeyUp\n  };\n};\n\n_s(useWordle, \"aHHykceFS4QOmAEPoIbc8yUmdek=\");\n\nexport default useWordle;","map":{"version":3,"sources":["/home/baraa/github/React/wordle-game/src/hooks/useWordle.js"],"names":["useState","useWordle","solution","turn","setTurn","currentGuess","setCurrentGuess","guesses","setGuesses","Array","history","setHistory","isCorrect","setisCorrect","formatGuess","solutionArray","formattedGuess","map","l","key","color","forEach","i","includes","indexOf","addNewGuess","setIsCorrect","prevGuesses","newGuesses","prevHistory","prevTurn","setUsedKeys","prevUsedKeys","currentColor","handleKeyUp","console","log","length","formatted","prev","slice","test"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\n\nconst useWordle = (solution) => {\n  const [turn, setTurn] = useState(0);\n  const [currentGuess, setCurrentGuess] = useState(\"\");\n  const [guesses, setGuesses] = useState([...Array(6)]);\n  const [history, setHistory] = useState([]);\n  const [isCorrect, setisCorrect] = useState(false);\n\n  const formatGuess = () => {\n    let solutionArray = [...solution]\n    let formattedGuess = [...currentGuess].map((l) => {\n      return {key: l, color: 'grey'}\n    })\n\n    // find any green letters\n    formattedGuess.forEach((l, i) => {\n      if (solution[i] === l.key) {\n        formattedGuess[i].color = 'green'\n        solutionArray[i] = null\n      }\n    })\n    \n    // find any yellow letters\n    formattedGuess.forEach((l, i) => {\n      if (solutionArray.includes(l.key) && l.color !== 'green') {\n        formattedGuess[i].color = 'yellow'\n        solutionArray[solutionArray.indexOf(l.key)] = null\n      }\n    })\n\n    return formattedGuess\n  };\n\n  const addNewGuess = (formattedGuess) => {\n    if (currentGuess === solution) {\n        setIsCorrect(true)\n      }\n      setGuesses(prevGuesses => {\n        let newGuesses = [...prevGuesses]\n        newGuesses[turn] = formattedGuess\n        return newGuesses\n      })\n      setHistory(prevHistory => {\n        return [...prevHistory, currentGuess]\n      })\n      setTurn(prevTurn => {\n        return prevTurn + 1\n      })\n      setUsedKeys(prevUsedKeys => {\n        formattedGuess.forEach(l => {\n          const currentColor = prevUsedKeys[l.key]\n  \n          if (l.color === 'green') {\n            prevUsedKeys[l.key] = 'green'\n            return\n          }\n          if (l.color === 'yellow' && currentColor !== 'green') {\n            prevUsedKeys[l.key] = 'yellow'\n            return\n          }\n          if (l.color === 'grey' && currentColor !== ('green' || 'yellow')) {\n            prevUsedKeys[l.key] = 'grey'\n            return\n          }\n        })\n  \n        return prevUsedKeys\n      })\n      setCurrentGuess('')\n  };\n\n  const handleKeyUp = ({ key }) => {\n    if (key === \"Enter\") {\n      if (turn > 5) {\n        console.log(\"you used all your chances\");\n        return;\n      }\n      if (history.includes(currentGuess)) {\n        console.log(\"word already tried\");\n        return;\n      }\n      if (currentGuess.length !== 5) {\n        console.log(\"word must be 5 chara long\");\n        return;\n      }\n\n      const formatted = formatGuess();\n      addNewGuess(formatted);\n    }\n    if (key === \"Backspace\") {\n      setCurrentGuess((prev) => {\n        return prev.slice(0, -1);\n      });\n      return;\n    }\n    if (/^[A-Za-z]$/.test(key)) {\n      if (currentGuess.length < 5) {\n        setCurrentGuess((prev) => {\n          return prev + key;\n        });\n      }\n    }\n  };\n\n  return {\n    turn,\n    currentGuess,\n    guesses,\n    isCorrect,\n    handleKeyUp,\n  };\n};\n\nexport default useWordle;\n"]},"metadata":{},"sourceType":"module"}